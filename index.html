<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Film Diary Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Graphik:wght@400;500;600;700&family=TiemposTextWeb:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header class="site-header">
        <div class="container">
            <h1 class="site-title">LETTERBOXD</h1>
            <nav class="main-nav">
                <span class="nav-item active" data-page="diary">Diary</span>
                <span class="nav-item" data-page="stats">Stats</span>
                <span class="nav-item" data-page="lists">Lists</span>
            </nav>
            <div id="last-updated">Loading…</div>
        </div>
    </header>

    <main class="container">
        <!-- Date Filter -->
        <section class="filter">
            <input type="date" id="startDate">
            <span>to</span>
            <input type="date" id="endDate">
            <button id="applyFilter">Apply</button>
            <button id="clearFilter">Clear</button>
            <div id="filterStatus"></div>
        </section>

        <!-- Diary Page -->
        <section id="diary-page" class="page-content active">
            <div class="stats-overview">
                <div class="stat-card primary">
                    <div class="stat-value" id="movies-this-year">–</div>
                    <small class="stat-label">Films This Year</small>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="total-movies">–</div>
                    <small class="stat-label">Total Films</small>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="average-rating">–</div>
                    <small class="stat-label">Avg Rating</small>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="total-runtime">–</div>
                    <small class="stat-label">Total Runtime (min)</small>
                </div>
            </div>

            <div class="charts">
                <div class="chart-card">
                    <h2>Genre Distribution</h2>
                    <canvas id="genreChart"></canvas>
                </div>
                <div class="chart-card">
                    <h2>Rating Distribution</h2>
                    <canvas id="ratingChart"></canvas>
                </div>
                <div class="chart-card wide">
                    <h2>Monthly Activity</h2>
                    <canvas id="monthlyChart"></canvas>
                </div>
            </div>

            <div class="directors">
                <div>
                    <h3>Top Directors (Year)</h3>
                    <div id="top-directors-year"></div>
                </div>
                <div>
                    <h3>Top Directors (All)</h3>
                    <div id="top-directors-all"></div>
                </div>
            </div>

            <div class="recent">
                <h3>Recent Activity</h3>
                <div id="recent-movies"></div>
            </div>
        </section>

        <!-- Stats Page -->
        <section id="stats-page" class="page-content">
            <div class="stats-grid">
                <div class="stat-detail-card">
                    <h2>Top Rated Decades</h2>
                    <div id="decades-list"></div>
                </div>
                <div class="stat-detail-card">
                    <h2>Genre Breakdown</h2>
                    <div id="genres-breakdown"></div>
                </div>
                <div class="stat-detail-card">
                    <h2>Country Counts</h2>
                    <div id="countries-list"></div>
                </div>
                <div class="stat-detail-card">
                    <h2>Runtime Analysis</h2>
                    <div id="runtime-analysis"></div>
                </div>
            </div>
        </section>

        <!-- Lists Page -->
        <section id="lists-page" class="page-content">
            <div class="lists-grid">
                <div class="list-card">
                    <h2>Top Rated Films</h2>
                    <div id="top-rated-list"></div>
                </div>
                <div class="list-card">
                    <h2>Recent Favorites</h2>
                    <div id="recent-favorites-list"></div>
                </div>
                <div class="list-card">
                    <h2>Films by Genre</h2>
                    <div id="genre-lists"></div>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <p>Data sourced from Letterboxd & TMDb • Updated automatically</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
