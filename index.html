<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Letterboxd Wrapped</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="logo">Letterboxd</h1>
            </div>
        </header>

        <!-- Loading Screen -->
        <div id="loading-screen" class="loading-screen">
            <div class="loading-content">
                <div class="spinner"></div>
                <p>Loading your movie data...</p>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content" id="main-content" style="display: none;">
            <!-- Tab Navigation -->
            <nav class="tab-nav">
                <button class="tab-btn active" data-tab="diary">Diary</button>
                <button class="tab-btn" data-tab="stats">Stats</button>
                <button class="tab-btn" data-tab="lists">Lists</button>
            </nav>

            <!-- Tab Content -->
            <div class="tab-content">
                <!-- Diary Tab -->
                <div id="diary-tab" class="tab-panel active">
                    <!-- Stats Cards -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="films-this-period">-</div>
                            <div class="stat-label">Films This Period</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="films-all-time">-</div>
                            <div class="stat-label">Films All Time</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="average-rating">-</div>
                            <div class="stat-label">Average Rating</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="total-watch-time">-</div>
                            <div class="stat-label">Total Watch Time</div>
                        </div>
                    </div>

                    <!-- Charts Grid 2x2 -->
                    <div class="charts-grid-2x2">
                        <div class="chart-container">
                            <h3>Genre Distribution</h3>
                            <div style="position: relative; height: 250px;">
                                <canvas id="genre-pie-chart"></canvas>
                            </div>
                        </div>
                        <div class="chart-container">
                            <h3>Rating Distribution</h3>
                            <div style="position: relative; height: 250px;">
                                <canvas id="rating-bar-chart"></canvas>
                            </div>
                        </div>
                        <div class="chart-container">
                            <h3>Monthly Activity (Count)</h3>
                            <div style="position: relative; height: 250px;">
                                <canvas id="monthly-count-chart"></canvas>
                            </div>
                        </div>
                        <div class="chart-container">
                            <h3>Monthly Activity (Minutes)</h3>
                            <div style="position: relative; height: 250px;">
                                <canvas id="monthly-minutes-chart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Directors Lists -->
                    <div class="directors-section">
                        <div class="directors-grid">
                            <div class="list-section">
                                <h3>Top Directors (This Period)</h3>
                                <div id="directors-this-period" class="director-list"></div>
                            </div>
                            <div class="list-section">
                                <h3>Top Directors (All Time)</h3>
                                <div id="directors-all-time" class="director-list"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="recent-section">
                        <div class="list-section">
                            <h3>Recent Activity</h3>
                            <div id="recent-activity" class="movie-list"></div>
                        </div>
                    </div>
                </div>

                <!-- Stats Tab -->
                <div id="stats-tab" class="tab-panel">
                    <div class="stats-lists-grid">
                        <div class="list-section">
                            <h3>Top Rated Decades</h3>
                            <div id="top-decades" class="decade-list"></div>
                        </div>
                        <div class="list-section">
                            <h3>Genre Breakdown</h3>
                            <div id="genre-breakdown" class="genre-list"></div>
                        </div>
                        <div class="list-section">
                            <h3>Country Count</h3>
                            <div id="country-count" class="country-list"></div>
                        </div>
                    </div>
                </div>

                <!-- Lists Tab -->
                <div id="lists-tab" class="tab-panel">
                    <div class="lists-grid">
                        <div class="list-section">
                            <h3>Top Rated Films (This Period)</h3>
                            <div id="top-rated-this-period" class="movie-list"></div>
                        </div>
                        <div class="list-section">
                            <h3>Top Rated Films (All Time)</h3>
                            <div id="top-rated-all-time" class="movie-list"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>
